(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/consumptionDetails/consumptionDetails"],{"007c":function(e,s,t){"use strict";t.r(s);var o=t("39e6"),i=t.n(o);for(var n in o)"default"!==n&&function(e){t.d(s,e,function(){return o[e]})}(n);s["default"]=i.a},"39e6":function(e,s,t){"use strict";(function(e,t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o={data:function(){return{fanhuiIcon:this.httpUrl+"file/static/order/jiehznag-icon-fanhui.png",xfmxiconchanpinIcon:this.httpUrl+"file/static/xfmx-icon-chanpin@3x.png",xfmxiconjiageIcon:this.httpUrl+"file/static/xfmx-icon-jiage@3x.png",xfmxiconshuliangIcon:this.httpUrl+"file/static/xfmx-icon-shuliang@3x.png",mingxicionjiantouIcon:this.httpUrl+"file/static/mingxi-cion-jiantou.png",telvalue:"",isShow:!1,isServeShow:!1,shows:!0,isShows:!1,jzShow:!1,tlists:[],username:"",assisant:"",order_code:"",userDes:"",userid:"",totalPrice:0,shop_pkid:""}},onLoad:function(s){console.log(e("option",s," at pages\\consumptionDetails\\consumptionDetails.vue:102"));var o=this;o.username=s.username,o.assisant=s.assisant,o.order_code=s.order_code,o.userDes=s.userDes,o.userid=s.userid,o.shop_pkid=s.shop_pkid,t.request({url:o.httpUrl+"v_order_infoController/findById.xsh?shop_pkid="+s.shop_pkid+"&order_code="+s.order_code,method:"GET",data:{},success:function(s){console.log(e("获取订单详情",s," at pages\\consumptionDetails\\consumptionDetails.vue:118")),o.tlists=[];var t=s.data.objs;for(var i in t)o.tlists.push({title:t[i].goods_name,price:Number(t[i].standard_price),sl:Number(t[i].detail_num)});console.log(e("this.tlists",o.tlists," at pages\\consumptionDetails\\consumptionDetails.vue:128"));for(var n=o.tlists.length,a=0;a<n;a++)o.totalPrice+=Number(o.tlists[a].price);o.totalPrice=o.totalPrice.toFixed(2)},fail:function(s){console.log(e("响应失败",s," at pages\\consumptionDetails\\consumptionDetails.vue:137"))}})},methods:{back:function(){t.navigateBack({delta:1})},jzSel:function(e){0==this.jzShow?this.jzShow=!0:this.jzShow=!1,this.shows=!1,this.isShows=!0},jzSelhidden:function(){this.shows=!0,this.isShows=!1},jzbtn:function(s){console.log(e(s," at pages\\consumptionDetails\\consumptionDetails.vue:164"));var o=this;"手机号结账"!==s?t.navigateTo({url:"../settle/settle?jzType="+s+"&username="+o.username+"&assisant="+o.assisant+"&order_code="+o.order_code+"&userDes="+o.userDes+"&totalPrice="+o.totalPrice+"&userid="+o.userid+"&shop_pkid="+o.shop_pkid}):(o.isShow=!0,o.isServeShow=!0)},servecancel:function(){var e=this;e.isShow=!1,e.isServeShow=!1,e.telvalue=""},serveok:function(s){var o=this;console.log(e("_this.telvalue",o.telvalue," at pages\\consumptionDetails\\consumptionDetails.vue:185")),""==o.telvalue?t.showToast({icon:"none",title:"请输入手机号！"}):t.request({url:o.httpUrl+"Jni_Member_CardController/selectCard.xsh?shop_pkid="+o.shop_pkid+"&mi_mobile="+o.telvalue,method:"GET",data:{},success:function(i){console.log(e("获取手机号",i," at pages\\consumptionDetails\\consumptionDetails.vue:198")),o.orderlists=[];var n=i.data.message;"获取成功"==n?(t.navigateTo({url:"../settle/settle?jzType="+s+"&username="+o.username+"&assisant="+o.assisant+"&order_code="+o.order_code+"&userDes="+o.userDes+"&totalPrice="+o.totalPrice+"&telphone="+o.telvalue+"&userid="+o.userid+"&shop_pkid="+o.shop_pkid}),o.isShow=!1,o.isServeShow=!1,o.telvalue=""):t.showToast({icon:"none",title:"手机号不存在请重新输入!"})},fail:function(s){console.log(e("响应失败",s," at pages\\consumptionDetails\\consumptionDetails.vue:216"))}})},scan:function(s){var o=this;t.scanCode({success:function(i){console.log(e("res成功",i," at pages\\consumptionDetails\\consumptionDetails.vue:229")),console.log(e("条码类型："+i.scanType," at pages\\consumptionDetails\\consumptionDetails.vue:230")),console.log(e("条码内容："+i.result," at pages\\consumptionDetails\\consumptionDetails.vue:231"));var n=i.result;t.request({url:o.httpUrl+"Jni_Member_CardController/selectCard.xsh?shop_pkid="+o.shop_pkid+"&openid="+n,method:"GET",data:{},success:function(i){console.log(e("获取openid",i," at pages\\consumptionDetails\\consumptionDetails.vue:239")),o.orderlists=[];var n=i.data.message;"获取成功"==n?t.navigateTo({url:"../settle/settle?jzType="+s+"&username="+o.username+"&assisant="+o.assisant+"&order_code="+o.order_code+"&userDes="+o.userDes+"&totalPrice="+o.totalPrice+"&telphone="+o.telvalue+"&userid="+o.userid+"&shop_pkid="+o.shop_pkid}):t.showToast({icon:"none",title:"用户不存在!"})},fail:function(s){console.log(e("响应失败",s," at pages\\consumptionDetails\\consumptionDetails.vue:254"))}})}})},ts:function(e){e.stopPropagation(),1==this.jzShow&&(this.jzShow=!1),this.shows=!0,this.isShows=!1}}};s.default=o}).call(this,t("0de9")["default"],t("6e42")["default"])},"3dd8":function(e,s,t){"use strict";var o=t("5f25"),i=t.n(o);i.a},"425b":function(e,s,t){"use strict";t.r(s);var o=t("9d46"),i=t("007c");for(var n in i)"default"!==n&&function(e){t.d(s,e,function(){return i[e]})}(n);t("3dd8");var a=t("2877"),l=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,null,null);s["default"]=l.exports},"5f25":function(e,s,t){},"9d46":function(e,s,t){"use strict";var o=function(){var e=this,s=e.$createElement;e._self._c},i=[];t.d(s,"a",function(){return o}),t.d(s,"b",function(){return i})}},[["2b88","common/runtime","common/vendor"]]]);